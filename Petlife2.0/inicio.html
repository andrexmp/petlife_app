<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetLife - Dashboard Tutor</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="styles/navigation.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height:100vh; margin:0;">
    <div class="dashboard-container module-transition" style="max-width:480px;margin:0 auto;background:rgba(255,255,255,0.98);border-radius:18px;box-shadow:0 8px 32px rgba(102,126,234,0.10);padding:0 0 90px 0;min-height:100vh;display:flex;flex-direction:column;">
        <!-- Header del Dashboard -->
        <header class="dashboard-header" style="box-shadow:0 2px 12px rgba(102,126,234,0.07);border-radius:18px 18px 0 0;background:rgba(255,255,255,0.97);margin-bottom:18px;">
            <div class="header-content" style="padding:22px 18px 10px 18px;display:flex;align-items:center;gap:14px;justify-content:center;">
                <img src="img/avatar.png" alt="Avatar" class="user-avatar" id="inicioAvatar" style="width:54px;height:54px;border-radius:50%;object-fit:cover;box-shadow:0 2px 8px #667eea22;">
                <div class="user-details" style="display:flex;flex-direction:column;align-items:flex-start;">
                    <h1 style="font-size:1.5rem;font-weight:700;margin:0 0 2px 0;line-height:1.1;">¡Hola, <span id='userNameHeader'>Tutor</span>!</h1>
                    <p style="margin:0;color:#888;font-size:1rem;">Bienvenido de vuelta</p>
                </div>
            </div>
        </header>
        <main class="dashboard-main" style="flex:1;display:flex;flex-direction:column;gap:22px;padding:0 14px;">
            <!-- Estadísticas Rápidas -->
            <section class="stats-section" style="display:flex;flex-wrap:wrap;gap:14px 2%;justify-content:space-between;">
                <div class="stat-card" style="flex:1 1 48%;background:#fff;border-radius:16px;box-shadow:0 2px 8px rgba(102,126,234,0.07);padding:18px 0 12px 0;display:flex;flex-direction:column;align-items:center;min-width:140px;text-align:center;">
                    <div class="stat-icon" style="background:linear-gradient(135deg,#667eea 0%,#4fc3f7 100%);border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                        <i class="fas fa-paw" style="color:#fff;font-size:26px;"></i>
                    </div>
                    <div class="stat-info"><h3 style="margin:0;font-size:24px;">3</h3><p style="margin:0;font-size:15px;color:#888;">Mascotas</p></div>
                </div>
                <div class="stat-card" style="flex:1 1 48%;background:#fff;border-radius:16px;box-shadow:0 2px 8px rgba(102,126,234,0.07);padding:18px 0 12px 0;display:flex;flex-direction:column;align-items:center;min-width:140px;text-align:center;">
                    <div class="stat-icon" style="background:linear-gradient(135deg,#667eea 0%,#4fc3f7 100%);border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                        <i class="fas fa-calendar-check" style="color:#fff;font-size:26px;"></i>
                    </div>
                    <div class="stat-info"><h3 style="margin:0;font-size:24px;">2</h3><p style="margin:0;font-size:15px;color:#888;">Próximas Citas</p></div>
                </div>
                <div class="stat-card" style="flex:1 1 48%;background:#fff;border-radius:16px;box-shadow:0 2px 8px rgba(102,126,234,0.07);padding:18px 0 12px 0;display:flex;flex-direction:column;align-items:center;min-width:140px;text-align:center;">
                    <div class="stat-icon" style="background:linear-gradient(135deg,#667eea 0%,#4fc3f7 100%);border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                        <i class="fas fa-user-md" style="color:#fff;font-size:26px;"></i>
                    </div>
                    <div class="stat-info"><h3 style="margin:0;font-size:24px;">5</h3><p style="margin:0;font-size:15px;color:#888;">Veterinarios</p></div>
                </div>
                <div class="stat-card" style="flex:1 1 48%;background:#fff;border-radius:16px;box-shadow:0 2px 8px rgba(102,126,234,0.07);padding:18px 0 12px 0;display:flex;flex-direction:column;align-items:center;min-width:140px;text-align:center;">
                    <div class="stat-icon" style="background:linear-gradient(135deg,#667eea 0%,#4fc3f7 100%);border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                        <i class="fas fa-clock" style="color:#fff;font-size:26px;"></i>
                    </div>
                    <div class="stat-info"><h3 style="margin:0;font-size:24px;">12</h3><p style="margin:0;font-size:15px;color:#888;">Recordatorios</p></div>
                </div>
            </section>
            <!-- Próximas Citas -->
            <section class="upcoming-appointments" style="margin-bottom:0;">
                <div class="section-header" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;">
                    <h2 style="font-size:1.1rem;font-weight:600;margin:0;"><i class="fas fa-calendar-alt" style="color:#667eea;"></i> Próximas Citas</h2>
                    <a href="agenda.html" class="view-all" style="color:#667eea;font-weight:500;text-decoration:underline;font-size:1rem;">Ver todas</a>
                </div>
                <div class="appointments-list" id="appointmentsList" style="display:flex;flex-direction:column;gap:10px;">
                    <!-- Las citas se cargarán dinámicamente -->
                </div>
            </section>
            <!-- Acciones Rápidas -->
            <section class="quick-actions" style="margin-bottom:0;">
                <h2 style="font-size:1.1rem;font-weight:600;margin-bottom:10px;"><i class="fas fa-bolt"></i> Acciones Rápidas</h2>
                <div class="actions-grid" style="display:flex;flex-wrap:wrap;gap:14px;justify-content:space-between;">
                    <a href="mis-mascotas.html" class="action-card" style="flex:1 1 48%;min-width:140px;display:flex;align-items:center;gap:10px;background:#f5f6fa;padding:16px 10px;border-radius:14px;text-decoration:none;color:#333;font-weight:600;box-shadow:0 2px 8px rgba(102,126,234,0.07);font-size:1rem;justify-content:center;text-align:center;">
                        <i class="fas fa-paw" style="color:#667eea;font-size:20px;"></i> Mis Mascotas
                    </a>
                    <a href="veterinarios.html" class="action-card" style="flex:1 1 48%;min-width:140px;display:flex;align-items:center;gap:10px;background:#f5f6fa;padding:16px 10px;border-radius:14px;text-decoration:none;color:#333;font-weight:600;box-shadow:0 2px 8px rgba(102,126,234,0.07);font-size:1rem;justify-content:center;text-align:center;">
                        <i class="fas fa-user-md" style="color:#667eea;font-size:20px;"></i> Buscar Veterinario
                    </a>
                    <a href="agenda.html" class="action-card" style="flex:1 1 48%;min-width:140px;display:flex;align-items:center;gap:10px;background:#f5f6fa;padding:16px 10px;border-radius:14px;text-decoration:none;color:#333;font-weight:600;box-shadow:0 2px 8px rgba(102,126,234,0.07);font-size:1rem;justify-content:center;text-align:center;">
                        <i class="fas fa-calendar-plus" style="color:#667eea;font-size:20px;"></i> Agendar Cita
                    </a>
                    <a href="notificaciones.html" class="action-card" style="flex:1 1 48%;min-width:140px;display:flex;align-items:center;gap:10px;background:#f5f6fa;padding:16px 10px;border-radius:14px;text-decoration:none;color:#333;font-weight:600;box-shadow:0 2px 8px rgba(102,126,234,0.07);font-size:1rem;justify-content:center;text-align:center;">
                        <i class="fas fa-bell" style="color:#667eea;font-size:20px;"></i> Notificaciones
                    </a>
                </div>
            </section>
            <!-- Vista Previa de Mascotas -->
            <section class="pets-preview" style="margin-bottom:0;">
                <div class="section-header" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;">
                    <h2 style="font-size:1.1rem;font-weight:600;margin:0;"><i class="fas fa-heart" style="color:#667eea;"></i> Mis Mascotas</h2>
                    <a href="mis-mascotas.html" class="view-all" style="color:#667eea;font-weight:500;text-decoration:underline;font-size:1rem;">Ver todas</a>
                </div>
                <div class="pets-grid" id="petsGrid" style="display:flex;flex-wrap:wrap;gap:10px;">
                    <!-- Las mascotas se cargarán dinámicamente -->
                </div>
            </section>
        </main>

        <!-- Navegación Inferior -->
        <nav class="bottom-nav" style="z-index:1000;">
            <a href="inicio.html" class="nav-item" data-module="tutor">
                <i class="fas fa-home"></i>
                <span>Inicio</span>
            </a>
            <a href="mis-mascotas.html" class="nav-item" data-module="tutor">
                <i class="fas fa-paw"></i>
                <span>Mascotas</span>
            </a>
            <a href="veterinarios.html" class="nav-item" data-module="tutor">
                <i class="fas fa-user-md"></i>
                <span>Veterinarios</span>
            </a>
            <a href="agenda.html" class="nav-item" data-module="tutor">
                <i class="fas fa-calendar"></i>
                <span>Agenda</span>
            </a>
            <a href="perfil-tutor.html" class="nav-item" data-module="tutor">
                <i class="fas fa-user"></i>
                <span>Perfil</span>
            </a>
        </nav>
    </div>

    <!-- Scripts -->
    <script src="js/test_data.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/dashboard.js"></script>
    <script>
    // Mostrar nombre del tutor logueado y proteger acceso
    document.addEventListener('DOMContentLoaded', function() {
        const user = JSON.parse(localStorage.getItem('petLifeUser'));
        if (!user || user.role !== 'tutor') {
            window.location.href = '../login.html';
            return;
        }
        // Cambiar el nombre en el header
        const userName = user.name || user.usuario || 'Tutor';
        document.getElementById('userNameHeader').textContent = userName;
        // Cambiar avatar si existe
        if(user.avatar) {
            document.getElementById('inicioAvatar').src = user.avatar;
        }
        // Resaltar el ítem activo del menú inferior
        const navLinks = document.querySelectorAll('.bottom-nav .nav-item');
        const current = window.location.pathname.split('/').pop();
        navLinks.forEach(link => {
            if(link.getAttribute('href') === current) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    });
    </script>
</body>
</html> 